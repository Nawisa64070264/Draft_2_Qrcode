<!DOCTYPE html>
<html>
<head>
    <title>สร้าง QR Code สำหรับ Customer</title>
    <!--สำหรับ icon download-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        .download-icon {
            font-size: 24px;
            color: #087d16;
            transition: color 0.3s ease;
        }
    
        .download-icon:hover {
            color: #065a12; /* สีเมื่อชี้เมาส์ */
        }
    </style>
</head>
<body>
    <h1>QR Code สำหรับ Customer</h1>
    <form method="POST">
        <label>Lot ID:</label><br>
        <input type="text" name="lot_id"><br><br>
        <label>ชื่อผลิตภัณฑ์:</label><br>
        <input type="text" name="product_name"><br><br>
        <label>URL สำหรับข้อมูลเพิ่มเติม:</label><br>
        <input type="url" name="url"><br><br>
        <input type="submit" value="สร้าง QR Code">
    </form>
    {% if error_message %}
        <p style="color: red;">{{ error_message }}</p>
    {% elif qrcode_image %}
    <div>
        <img src="data:image/png;base64,{{ qrcode_image }}" alt="QR Code">

    </div>
    <form method="POST" action="/download_qrcode/customer">
        <button type="submit" style="background: none; border: none; cursor: pointer;">
            <i class="fa-solid fa-download" style="font-size: 24px; color: #087d16;"></i> <!--สำหรับ icon download-->
        </button>
    </form>
    {% endif %}
</body>
</html>

<script>
    document.querySelector('form').onsubmit = function() {
        // Trigger file download directly
        this.submit();
    }
</script>
